<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>kodeWeave</title>
  <meta name="viewport" content="initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <link rel="stylesheet"  href="css/style.css" type="text/css" />
  <script src="https://togetherjs.com/togetherjs-min.js"></script>
  <script src="lib/jq/jquery.js"></script>
  <script src="lib/jquery-ui.min.js"></script>
  <script src="lib/jquery.ui.touch-punch.min.js"></script>
  <script src="dist/jszip.min.js"></script>
  <script src="dist/jszip-utils.js"></script>
  <script src="dist/FileSaver.js"></script>
  <script type="text/javascript">
    TogetherJSConfig_siteName="kodeWeave";
    TogetherJSConfig_toolName="Teamwork";
    TogetherJSConfig_suppressJoinConfirmation = true;
    TogetherJSConfig_includeHashInUrl = true;
    TogetherJSConfig_dontShowClicks = true;
  </script>
</head>
<body>
  <!-- Navigation -->
  <header>
    <!-- Hidden Textbox (Detects Active Editor) -->
    <input type="text" class="hide fl activeEditor" value="htmlEditor">
    
    <!-- Float Left -->
    <a class="tools" href="javascript:void(0)">
      <i class="fa fa-wrench"></i>
    </a>
    <div class="dialog toolbox hide">
      <a class="ipsum fn heading" href="javascript:void(0)">
        Lorem Ispum Generator
      </a><br /><br />
      
      <div>
        <a class="open-html fl" href="javascript:void(0)">
          <i class="fa fa-upload"></i> HTML
        </a>
        <a class="open-css fn" href="javascript:void(0)">
          <i class="fa fa-upload"></i> CSS
        </a>
        <a class="open-js fr" href="javascript:void(0)">
          <i class="fa fa-upload"></i> Javascript
        </a>
      </div><br />
      
      <!-- Load Files Into Editor -->
      <div class="hide">
        <input id="loadhtml" type="file">
        <input id="loadcss" type="file">
        <input id="loadjs" type="file">
      </div>

      <!-- Color Picker -->
      <input class="picker" type="text">
    </div>
    
    <a class="open-libraries" href="javascript:void(0)">
      <i class="fa fa-book"></i>
    </a>
    <div class="libraries-dialog dialog fl hide">
      <select id="search-select-libraries">
        <option value=""></option>
        <option value="AngularJS">Angular JS (1.0.7)</option>
        <option value="BackboneJS">Backbone JS (latest)</option>
        <option value="Bootstrap">Bootstrap (latest)</option>
        <option value="CreateJS">Create JS (latest)</option>
        <option value="ChartJS">Chart JS (0.2)</option>
        <option value="D3">D3 (3.0)</option>
        <option value="Dojo">Dojo (latest)</option>
        <option value="Ember">Ember (1.1.2)</option>
        <option value="EnyoJS">Enyo JS (latest)</option>
        <option value="ExtJS">Ext JS (4.2.0)</option>
        <option value="FabricJS">Fabric JS (1.3.0)</option>
        <option value="FontAwesome">FontAwesome (4.3.0)</option>
        <option value="jQuery">jQuery (latest)</option>
        <option value="jQMobile">jQuery Mobile (1.4.5)</option>
        <option value="jQUI">jQuery UI (latest)</option>
        <option value="jQTools">JQuery Tools (1.2.7)</option>
        <option value="JSZip">JSZip (2.4.0)</option>
        <option value="KineticJS">Kinetic JS (4.7.3)</option>
        <option value="KnockoutJS">Knockout JS (3.0)</option>
        <option value="Modernizr">Modernizr (latest)</option>
        <option value="MooTools">MooTools (latest)</option>
        <option value="Normalize">Normalize (3.0.1)</option>
        <option value="PaperJS">PaperJS (0.9.9)</option>
        <option value="ProcessingJS">Processing JS (1.4.1)</option>
        <option value="PrototypeJS">Prototype JS (latest)</option>
        <option value="Qooxdoo">Qooxdoo (3.0.1)</option>
        <option value="RaphaelJS">RaphaelJS (2.1.0)</option>
        <option value="RequireJS">RequireJS (2.1.16)</option>
        <option value="Script.aculo.us">Script.aculo.us (latest)</option>
        <option value="SnapSVG">SnapSVG (latest)</option>
        <option value="SVGJS">SVG JS (latest)</option>
        <option value="ThreeJS">Three JS (latest)</option>
        <option value="UnderscoreJS">UnderscoreJS (latest)</option>
        <option value="WebFontLoader">WebFontLoader (1.4.10)</option>
        <option value="YUI">YUI (3.13.0)</option>
        <option value="Zepto">Zepto (latest)</option>
      </select>
      <a id="add-library" href="javascript:void(0)">
        <i class="fa fa-plus"></i>
      </a>
      <input type="text" id="search-libraries" value="" list="list-my-libraries" />
      <datalist id="list-my-libraries">
        <option value="AngularJS"></option>
        <option value="BackboneJS"></option>
        <option value="Bootstrap"></option>
        <option value="CreateJS"></option>
        <option value="ChartJS"></option>
        <option value="D3"></option>
        <option value="Dojo"></option>
        <option value="Ember"></option>
        <option value="EnyoJS"></option>
        <option value="ExtJS"></option>
        <option value="FabricJS"></option>
        <option value="FontAwesome"></option>
        <option value="jQuery"></option>
        <option value="jQUI"></option>
        <option value="jQMobile"></option>
        <option value="jQTools"></option>
        <option value="JSZip"></option>
        <option value="KineticJS"></option>
        <option value="KnockoutJS"></option>
        <option value="Modernizr"></option>
        <option value="MooTools"></option>
        <option value="Normalize"></option>
        <option value="PaperJS"></option>
        <option value="ProcessingJS"></option>
        <option value="PrototypeJS"></option>
        <option value="Qooxdoo"></option>
        <option value="RaphaelJS"></option>
        <option value="Script.aculo.us"></option>
        <option value="Script Aculous"></option>
        <option value="SnapSVG"></option>
        <option value="SVGJS"></option>
        <option value="ThreeJS"></option>
        <option value="UnderscoreJS"></option>
        <option value="WebFontLoader"></option>
        <option value="YUI"></option>
        <option value="Zepto"></option>
      </datalist>
      <div class="addlibrary-tablets">
        <ul id="ldd-menu" class="ldd-menu">
          <li>
            <span style="width: 75px;" class="menu-item" title="Select a CSS or JavaScript library">&nbsp;</span>
            <div class="ldd-submenu field-shadow" style="margin-top: 7px; display: block;">
              <ul style="border-left:none;">
                <li class="ldd-heading">A</li>
                <li id="AngularJS"><a href="javascript:void(0)">Angular JS (1.0.7)</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">B</li>
                <li id="BackboneJS"><a href="javascript:void(0)">Backbone JS (latest)</a></li>
                <li id="Bootstrap"><a href="javascript:void(0)">Bootstrap (latest)</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">C</li>
                <li id="CreateJS"><a href="javascript:void(0)">Create JS (latest)</a></li>
                <li id="ChartJS"><a href="javascript:void(0)">Chart JS (0.2)</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">D</li>
                <li id="D3"><a href="javascript:void(0)">D3 (3.0)</a></li>
                <li id="Dojo"><a href="javascript:void(0)">Dojo (latest)</a></li>  
                <li>&nbsp;</li>  
                <li class="ldd-heading no-border">E</li>
                <li id="Ember"><a href="javascript:void(0)">Ember (1.1.2)</a></li>
                <li id="EnyoJS"><a href="javascript:void(0)">Enyo JS (latest)</a></li>      
                <li id="ExtJS"><a href="javascript:void(0)">Ext JS (4.2.0)</a></li>  
                <li>&nbsp;</li>                              
                <li class="ldd-heading">F</li>
                <li id="FabricJS"><a href="javascript:void(0)">Fabric JS (1.3.0)</a></li>
                <li id="FontAwesome"><a href="javascript:void(0)">FontAwesome (4.3.0)</a><span class="new"> Popular !</span></li>
              </ul>
              <ul>
                <li class="ldd-heading">J</li>
                <li id="jQuery"><a href="javascript:void(0)">jQuery (latest)</a><span class="new"> Popular !</span></li>
                <li id="jQMobile"><a href="javascript:void(0)">jQuery Mobile (latest)</a></li>
                <li id="jQUI"><a href="javascript:void(0)">jQuery UI (latest)</a></li>
                <li id="jQTools"><a href="javascript:void(0)">jQuery Tools (1.2.7)</a></li>
                <li id="JSZip"><a href="javascript:void(0)">JSZip (2.4.0)</a><span class="new"> Popular !</span></li>
                <li>&nbsp;</li>
                <li class="ldd-heading no-border">K</li>
                <li id="KineticJS"><a href="javascript:void(0)">Kinetic JS 4.7.3</a></li>
                <li id="KnockoutJS"><a href="javascript:void(0)">Knockout JS 3.0.0</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">M</li>
                <li id="Modernizr"><a href="javascript:void(0)">Modernizr (latest)</a></li>
                <li id="MooTools"><a href="javascript:void(0)">MooTools (latest)</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">N</li>
                <li id="Normalize"><a href="javascript:void(0)">Normalize (3.0.1)</a><span class="new"> Popular !</span></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">P</li>
                <li id="PaperJS"><a href="javascript:void(0)">Paper JS (0.9.9)</a></li>
                <li id="ProcessingJS"><a href="javascript:void(0)">Processing JS (1.4.1)</a></li>
                <li id="PrototypeJS"><a href="javascript:void(0)">Prototype JS (latest)</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">Q</li>
                <li id="Qooxdoo"><a href="javascript:void(0)">Qooxdoo (3.0.1)</a></li>
              </ul>
              <ul>
                <li class="ldd-heading">R</li>
                <li id="RaphaelJS"><a href="javascript:void(0)">Raphael JS (2.1.0)</a></li>
                <li id="RequireJS"><a href="javascript:void(0)">Require JS (2.1.16)</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">S</li>
                <li id="Script.aculo.us"><a href="javascript:void(0)">Script.aculo.us (latest)</a></li>
                <li id="SnapSVG"><a href="javascript:void(0)">Snap SVG (latest)</a></li>
                <li id="SVGJS"><a href="javascript:void(0)">SVG JS (latest)</a></li>                    
                <li>&nbsp;</li>
                <li class="ldd-heading">T</li>
                <li id="ThreeJS"><a href="javascript:void(0)">Three JS (latest)</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">U</li>
                <li id="UnderscoreJS"><a href="javascript:void(0)">Underscore JS (latest)</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">W</li>
                <li id="WebFontloader"><a href="javascript:void(0)">Web Font Loader (1.4.10)</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">Y</li>
                <li id="yui"><a href="javascript:void(0)">YUI (3.13.0)</a></li>   
                <li>&nbsp;</li>
                <li class="ldd-heading">Z</li>
                <li id="Zepto"><a href="javascript:void(0)">Zepto (latest)</a></li>   
              </ul>
            </div>
          </li>
        </ul>
      </div>
    </div>
    <a id="collaborate" href="javascript:void(0)">
      <i class="fa fa-group"></i>
    </a>
    <a class="download" href="javascript:void(0)">
      <i class="fa fa-save"></i>
    </a>
    <div class="dialog fl hide">
      <input class="projectname heading hide" type="text" value="ProjectName" placeholder="ProjectName" />
      
      <a class="download-as-droid-proj" href="javascript:void(0)">
        Download as Android PhoneGap Project
      </a><br />
      <a class="download-as-win-app" href="javascript:void(0)">
        Download as Windows App (VB.NET)
      </a><br />
      <a class="download-as-lin-app" href="javascript:void(0)">
        Download as Linux App (PyGTK)
      </a><br />
      <a class="download-html" href="javascript:void(0)">
        Download as single .html
      </a><br />
      <a class="download-zip" href="javascript:void(0)">
        Download as .zip
      </a><br />
    </div>
    
    <!-- Code Section -->
    <div id="charmenu">
      <a id="restartapp" href="javascript:location.reload(true)"><span class="fa fa-refresh"></span></a>
      <a id="undo"><span class="fa fa-undo"></span></a>
      <a id="redo"><span class="fa fa-repeat"></span></a>
      <a id="tabindent" href="javascript:void(0)">tab</a>
      <a id="charsym1" href="javascript:void(0)">&lt;&gt;</a>
      <a id="charsym2" href="javascript:void(0)">{}</a>
      <a id="charsym3" href="javascript:void(0)">""</a>
      <a id="charsym4" href="javascript:void(0)">''</a>
      <a id="charsym5" href="javascript:void(0)">+</a>
      <a id="charsym6" href="javascript:void(0)">-</a>
      <a id="charsym7" href="javascript:void(0)">.</a>
      <a id="charsym8" href="javascript:void(0)">()</a>
      <a id="charsym9" href="javascript:void(0)">:</a>
      <a id="charsym10" href="javascript:void(0)">;</a>
      <a id="charsym11" href="javascript:void(0)">_</a>
      <a id="charsym12" href="javascript:void(0)">[]</a>
      <a id="charsym13" href="javascript:void(0)">|</a>
      <a id="charsym14" href="javascript:void(0)">/</a>
      <a id="charsym15" href="javascript:void(0)">\</a>
      <a id="charsym16" href="javascript:void(0)">?</a>
      <a id="charsym17" href="javascript:void(0)">*</a>
      <a id="charsym18" href="javascript:void(0)">\n</a>
      <a id="charsym19" href="javascript:void(0)">&amp;</a>
      <a id="charsym20" href="javascript:void(0)">%</a>
      <a id="charsym21" href="javascript:void(0)">$</a>
      <a id="charsym22" href="javascript:void(0)">¢</a>
      <a id="charsym23" href="javascript:void(0)">£</a>
      <a id="charsym24" href="javascript:void(0)">¥</a>
      <a id="charsym25" href="javascript:void(0)">€</a>
      <a id="charsym26" href="javascript:void(0)">@</a>
      <a id="charsym27" href="javascript:void(0)">=</a>
      <a id="charsym28" href="javascript:void(0)">#</a>
      <a id="charsym29" href="javascript:void(0)">,</a>
      <a id="charsym30" href="javascript:void(0)">!</a>
      <a id="charsym31" href="javascript:void(0)">^</a>
      <a id="charsym32" href="javascript:void(0)">©</a>
      <a id="charsym33" href="javascript:void(0)">®</a>
      <a id="charsym34" href="javascript:void(0)">™</a>
      <a id="function" href="javascript:void(0)">function() {}</a>
    </div>
    
    <!-- Float Right -->
    <a class="open-demos" href="javascript:void(0)">
      <i class="fa fa-gift"></i>
    </a>
    <div class="demos-dialog dialog fr hide">
      <a id="add-demo" href="javascript:void(0)">
        <i class="fa fa-plus"></i>
      </a>
      <select id="search-demos">
        <option value=""></option>
        <option value="360deg angle slider">360deg angle slider</option>
        <option value="alphabetizer">alphabetizer</option>
        <option value="append from value">append from value</option>
        <option value="applicator">applicator</option>
        <option value="calculator">calculator</option>
        <option value="catch the square">catch the square</option>
        <option value="character map">character map</option>
        <option value="codemirror">codemirror</option>
        <option value="collapsable treeview">collapsable treeview</option>
        <option value="convert for values">convert for values</option>
        <option value="date and time">date and time</option>
        <option value="detect child location">detect child location</option>
        <option value="detect orientation">detect orientation</option>
        <option value="discount calculator">discount calculator</option>
        <option value="display operating system">display operating system</option>
        <option value="editor w prev">editor w prev</option>
        <option value="fib sequence">fib sequence</option>
        <option value="fotorama gallery">fotorama gallery</option>
        <option value="horizontal scrollbar">horizontal scrollbar</option>
        <option value="image viewer">image viewer</option>
        <option value="jquery splitter">jquery splitter</option>
        <option value="package zip files[jszip]">package zip files[jszip]</option>
        <option value="keylogger">keylogger</option>
        <option value="multiplication table">multiplication table</option>
        <option value="new document">new document</option>
        <option value="pdf embed">pdf embed</option>
        <option value="poly ui kit">poly ui kit</option>
        <option value="remember query state[slider]">remember query state[slider]</option>
        <option value="simple slideshow">simple slideshow</option>
        <option value="speech to action">speech to action</option>
        <option value="svg-edit">svg-edit</option>
        <option value="svg's">svg's</option>
        <option value="web browser">web browser</option>
        <option value="web designer">web designer</option>
        <option value="webgl cube">webgl cube</option>
        <option value="webgl first person interaction">webgl first person interaction</option>
        <option value="whiteboard">whiteboard</option>
        <option value="wysiwyg editor">wysiwyg editor</option>
      </select>
      <div class="adddemos-tablets">
        <ul id="ldd-menu" class="ldd-menu">
          <li>
            <span style="width: 75px;" class="menu-item" title="Select a CSS or JavaScript library">&nbsp;</span>
            <div class="ldd-submenu field-shadow" style="margin-top: 7px; display: block;">
              <ul style="border-left:none;">
                <li class="ldd-heading">0</li>
                <li id="360deg angle slider"><a href="javascript:void(0)">360deg angle slider</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">A</li>
                <li id="alphabetizer"><a href="javascript:void(0)">alphabetizer</a></li>
                <li id="append from value"><a href="javascript:void(0)">append from value</a></li>
                <li id="applicator"><a href="javascript:void(0)">applicator</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">C</li>
                <li id="calculator"><a href="javascript:void(0)">calculator</a></li>
                <li id="catch the square"><a href="javascript:void(0)">catch the square</a></li>
                <li id="character map"><a href="javascript:void(0)">character map</a></li>
                <li id="codemirror"><a href="javascript:void(0)">codemirror</a></li>
                <li id="collapsable treeview"><a href="javascript:void(0)">collapsable treeview</a></li>
                <li id="convert for values"><a href="javascript:void(0)">convert for values</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">D</li>
                <li id="date and time"><a href="javascript:void(0)">date and time</a></li>
                <li id="detect child location"><a href="javascript:void(0)">detect child location</a></li>
                <li id="detect orientation"><a href="javascript:void(0)">detect orientation</a></li>
                <li id="discount calculator"><a href="javascript:void(0)">discount calculator</a></li>
                <li id="display operating system"><a href="javascript:void(0)">display operating system</a></li>
                <li>&nbsp;</li>
              </ul>
              <ul>
                <li class="ldd-heading">E</li>
                <li id="editor w prev"><a href="javascript:void(0)">editor w prev</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">F</li>
                <li id="fib sequence"><a href="javascript:void(0)">fib sequence</a></li>
                <li id="fotorama gallery"><a href="javascript:void(0)">fotorama gallery</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">H</li>
                <li id="horizontal scrollbar"><a href="javascript:void(0)">horizontal scrollbar</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">I</li>
                <li id="image viewer"><a href="javascript:void(0)">image viewer</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">J</li>
                <li id="jquery splitter"><a href="javascript:void(0)">jquery splitter</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">K</li>
                <li id="keylogger"><a href="javascript:void(0)">keylogger</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">M</li>
                <li id="multiplication table"><a href="javascript:void(0)">multiplication table</a></li>
                <li>&nbsp;</li>
              </ul>
              <ul>
                <li class="ldd-heading">N</li>
                <li id="new document"><a href="javascript:void(0)">new document</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">P</li>
                <li id="package zip files[jszip]"><a href="javascript:void(0)">package zip files[jszip]</a></li>
                <li id="pdf embed"><a href="javascript:void(0)">pdf embed</a></li>
                <li id="poly ui kit"><a href="javascript:void(0)">poly ui kit</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">R</li>
                <li id="remember query state[slider]"><a href="javascript:void(0)">remember query state[slider]</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">S</li>
                <li id="simple slideshow"><a href="javascript:void(0)">simple slideshow</a></li>
                <li id="speech to action"><a href="javascript:void(0)">speech to action</a></li>
                <li id="svg-edit"><a href="javascript:void(0)">svg-edit</a></li>
                <li id="svg's"><a href="javascript:void(0)">svg's</a></li>
                <li>&nbsp;</li>
                <li class="ldd-heading">W</li>
                <li id="web browser"><a href="javascript:void(0)">web browser</a></li>
                <li id="web designer"><a href="javascript:void(0)">web designer</a></li>
                <li id="webgl cube"><a href="javascript:void(0)">webgl cube</a></li>
                <li id="webgl first person interaction"><a href="javascript:void(0)">webgl first person interaction</a></li>
                <li id="whiteboard"><a href="javascript:void(0)">whiteboard</a></li>
                <li id="wysiwyg editor"><a href="javascript:void(0)">wysiwyg editor</a></li>
            </div>
          </li>
        </ul>
      </div>
      </div>
    </div>
    <a class="grid-alignment is-squared" href="javascript:void(0)">
      <i class="fa fa-columns"></i>
    </a>
  </header>
  
  <!-- Editor/Preview -->
  <div id="splitContainer">
    <div>
      <div id="leftSplitter">
        <div>
          <div class="editor-container html-editor">
            <div id="htmlEditor"></div>
          </div>
          <a class="fullscreen-html-toggle unfill">
            <span class="fa fa-expand" id="fullscreen-html"></span>
          </a>
        </div>
        <div>
          <div class="editor-container css-editor">
            <div id="cssEditor"></div>
          </div>
          <a class="fullscreen-css-toggle unfill">
            <span class="fa fa-expand" id="fullscreen-css"></span>
          </a>
        </div>
      </div>
    </div>
    <div>
      <div id="rightSplitter">
        <div>
          <div class="editor-container js-editor">
            <div id="jsEditor"></div>
          </div>
          <a class="fullscreen-js-toggle unfill">
            <span class="fa fa-expand" id="fullscreen-js"></span>
          </a>
        </div>
        <div>
          <div class="editor-container preview-editor">
            <iframe id="preview"></iframe>
          </div>
          <a class="preview-mode-toggle unfill">
            <span class="fa fa-expand" id="preview-mode"></span>
          </a>
        </div>
      </div>
    </div>
  </div>        
  
  <script type="text/javascript" src="jqwidgets/jqxcore.js"></script>
  <script type="text/javascript" src="jqwidgets/jqxsplitter.js"></script>
  <script type="text/javascript" src="scripts/demos.js"></script>
  
  <script src="lib/codemirror.js"></script>
  <script src="javascripts/code-completion.js"></script>
  <script src="javascripts/css-completion.js"></script>
  <script src="javascripts/html-completion.js"></script>
  <script src="mode/javascript/javascript.js"></script>
  <script src="mode/xml/xml.js"></script>
  <script src="mode/css/css.js"></script>
  <script src="mode/htmlmixed/htmlmixed.js"></script>
  <script src="addon/edit/closetag.js"></script>
  <script src="addon/edit/matchbrackets.js"></script>
  <script src="addon/selection/active-line.js"></script>
  <script src="keymap/extra.js"></script>
  <script src="addon/fold/foldcode.js"></script>
  <script src="addon/fold/foldgutter.js"></script>
  <script src="addon/fold/brace-fold.js"></script>
  <script src="addon/fold/xml-fold.js"></script>
  <script src="addon/fold/comment-fold.js"></script>
  
  <script src="lib/jshint.js"></script>
  <script src="lib/csslint.js"></script>
  <script src="addon/lint/lint.js"></script>
  <script src="addon/lint/javascript-lint.js"></script>
  <script src="addon/lint/css-lint.js"></script>
  <script src="alertify/alertify.min.js"></script>
  
  <script src="lib/spectrum.js"></script>
  <script src="lib/shortcut.js"></script>
  <script src="editor.js"></script>
  <script type="text/javascript">
    var widgets = [];
    function updateJSHints() {
      jsEditor.operation(function(){
        for (var i = 0; i < widgets.length; ++i)
          jsEditor.removeLineWidget(widgets[i]);
        widgets.length = 0;

        JSHINT(jsEditor.getValue());
        for (var i = 0; i < JSHINT.errors.length; ++i) {
          var err = JSHINT.errors[i];
          if (!err) continue;
          var msg = document.createElement("div");
          var icon = msg.appendChild(document.createElement("span"));
          icon.innerHTML = "!!";
          icon.className = "lint-error-icon";
          msg.appendChild(document.createTextNode(err.reason));
          msg.className = "lint-error";
          widgets.push(jsEditor.addLineWidget(err.line - 1, msg, {coverGutter: false, noHScroll: true}));
        }
      });
      var info = jsEditor.getScrollInfo();
      var after = jsEditor.charCoords({line: jsEditor.getCursor().line + 1, ch: 0}, "local").top;
      if (info.top + info.clientHeight < after)
        jsEditor.scrollTo(null, after - info.clientHeight + 3);
    }
    function updateCSSHints() {
      cssEditor.operation(function(){
        for (var i = 0; i < widgets.length; ++i){
          cssEditor.removeLineWidget(widgets[i]);
        }

        widgets.length = 0;

        var result = CSSLint.verify(cssEditor.getValue());

        for (var i = 0; i < result.messages.length; ++i) {
          var err = result.messages[i];
          if (!err) continue;
          var msg = document.createElement("div");
          var icon = msg.appendChild(document.createElement("span"));
          icon.innerHTML = "!!";
          icon.className = "lint-error-icon";
          //***** HERE *****
          msg.appendChild(document.createTextNode(err.message));
          msg.className = "lint-error";
          widgets.push(cssEditor.addLineWidget(err.line - 1, msg, {coverGutter: false, noHScroll: true}));
        }
      });// end of cssEditor.operation
    }// end of updateCSSHints
    // Handles CodeMirror Preview Delay
    var delay;
    var cssWaiting;
    var jsWaiting;

    // Initialize HTML editor
    var htmlEditor = CodeMirror(document.getElementById("htmlEditor"), {
      mode: "text/html",
      tabMode: "indent",
      styleActiveLine: true,
      lineNumbers: true,
      lineWrapping: true,
      autoCloseTags: true,
      foldGutter: true,
      dragDrop: true,
      gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"],
      value: "<!DOCTYPE html>\n<html>\n  <head>\n    <title>site name</title>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=9\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"http://necolas.github.io/normalize.css/3.0.1/normalize.css\" />\n  </head>\n  <body>\n    <!-- comment -->\n    hello world!\n  </body>\n</html>"
    });
    var cssEditor = CodeMirror(document.getElementById("cssEditor"), {
      mode: "text/css",
      tabMode: "indent",
      styleActiveLine: true,
      lineNumbers: true,
      lineWrapping: true,
      autoCloseTags: true,
      foldGutter: true,
      dragDrop: true,
      lint: true,
      gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter", "CodeMirror-lint-markers"]
    });
    var jsEditor = CodeMirror(document.getElementById("jsEditor"), {
      mode: "text/javascript",
      tabMode: "indent",
      styleActiveLine: true,
      lineNumbers: true,
      lineWrapping: true,
      autoCloseTags: true,
      foldGutter: true,
      dragDrop: true,
      lint: true,
      gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter", "CodeMirror-lint-markers"]
    });

    // Live preview
    htmlEditor.on("change", function() {
      clearTimeout(delay);
      delay = setTimeout(updatePreview, 300);
        for (var i = 0; i < widgets.length; ++i){
          cssEditor.removeLineWidget(widgets[i]);
          jsEditor.removeLineWidget(widgets[i]);
        }
      var dest = $(".projectname");
      var content =  htmlEditor.getValue();
      var openTagIndex = content.search(/<title/);
      var closeTagIndex = content.search(/<\/title>/);
      var titleTag = content.slice(openTagIndex , closeTagIndex);
      var editorTitle = titleTag.slice(titleTag.search(/>/) + 1);  
      dest.val(editorTitle).val(dest.val().split(" ").join(""));
    });
    cssEditor.on("change", function() {
      clearTimeout(delay);
      clearTimeout(cssWaiting);
      delay = setTimeout(updatePreview, 300);
      cssWaiting = setTimeout(updateCSSHints, 300);
    });
    jsEditor.on("change", function() {
      clearTimeout(delay);
      clearTimeout(jsWaiting);
      delay = setTimeout(updatePreview, 300);
      jsWaiting = setTimeout(updateJSHints, 300);
    });

    // Don't add to code, replace with new drop file's code
    htmlEditor.on("drop", function() {
      htmlEditor.setValue("");
    });
    cssEditor.on("drop", function() {
      cssEditor.setValue("");
    });
    jsEditor.on("drop", function() {
      jsEditor.setValue("");
    });

    function updatePreview() {
      var previewFrame = document.getElementById("preview");
      var preview =  previewFrame.contentDocument ||  previewFrame.contentWindow.document;
      preview.open();
      preview.write('<style type="text/css">' + cssEditor.getValue() + '</style>'); 
      preview.write(htmlEditor.getValue());
      preview.write('<scr' + 'ipt type="text/javascript">' + jsEditor.getValue() + '</scr' + 'ipt>');
      preview.close();
    }
    setTimeout(updatePreview, 300);
    setTimeout(updateCSSHints, 300);
    setTimeout(updateJSHints, 300);
    
    // Save Doc as HTML File
    function saveTextAsFile() {
      var htmlContent = htmlEditor.getValue();
      var cssContent = cssEditor.getValue();
      var jsContent = jsEditor.getValue();
      
      var cssLink="  <"+"style type=\"text/css\">\n" + cssContent + "</style\>"+"\n";
      var jsLink="  <"+"script type=\"text/javascript\">\n" + jsContent + "</script\>"+"\n";
      
      cssLink = cssLink + "</head>";
      jsLink = jsLink + "</body>";
      
      htmlContent = htmlContent.replace("</head>",cssLink);
      htmlContent = htmlContent.replace("</body>",jsLink);
      
      var textToWrite =  htmlContent;
      var textFileAsBlob = new Blob([textToWrite], {type:'text/plain'});
      var fileNameToSaveAs = "source.html";

      var downloadLink = document.createElement("a");
      downloadLink.download = fileNameToSaveAs;
      downloadLink.innerHTML = "Download File";
      if (window.webkitURL != null) {
        // Chrome allows the link to be clicked
        // without actually adding it to the DOM.
        downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);
      }
      else {
        // Firefox requires the link to be added to the DOM
        // before it can be clicked.
        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
        downloadLink.onclick = destroyClickedElement;
        downloadLink.style.display = "none";
        document.body.appendChild(downloadLink);
      }
      downloadLink.click();
    }
    function destroyClickedElement(event) {
      document.body.removeChild(event.target);
    }
    
    (function() {
      function scrollMenu(e) {
        e = window.event || e;
        var delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));
        document.getElementById('charmenu').scrollLeft -= (delta*40); // Multiplied by 40
        return false;
      }
      if (document.getElementById('charmenu').addEventListener) {
        // IE9, Chrome, Safari, Opera
        document.getElementById('charmenu').addEventListener('mousewheel', scrollMenu, false);
        // Firefox
        document.getElementById('charmenu').addEventListener('DOMMouseScroll', scrollMenu, false);
      } else {
        // IE 6/7/8
        document.getElementById('charmenu').attachEvent('onmousewheel', scrollMenu);
      }
    })();
  </script>
</body>
</html>
